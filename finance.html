<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Finance | StatMint</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f8f9fa;
      color: #212529;
      margin: 0;
    }
    header {
      background-color: #111;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    header img {
      height: 80px;
      object-fit: contain;
    }
    nav a {
      margin-left: 1.5rem;
      color: white;
      font-weight: 500;
      text-decoration: none;
    }
    nav a:hover {
      color: #1d72f3;
    }
    .hero {
      background-color: #eef3fb;
      padding: 4rem 1rem 2rem;
      text-align: center;
    }
    .content-section {
      max-width: 960px;
      margin: auto;
      padding: 4rem 1rem;
    }
    .highlight-card {
      background-color: white;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 0.25rem 1rem rgba(0, 0, 0, 0.05);
    }
    .highlight-row .col-md-3 {
      margin-bottom: 1rem;
    }
    .img-caption {
      text-align: center;
      font-size: 0.9rem;
      color: #6c757d;
    }
    .back-link {
      text-align: center;
      margin-top: 3rem;
    }
    .back-link a {
      color: #1d72f3;
      text-decoration: none;
      font-weight: 500;
    }
    .back-link a:hover {
      text-decoration: underline;
    }
    canvas {
      max-width: 100%;
      display: block;
      margin: 2rem auto;
    }
  </style>
</head>
<body>
  <header>
    <a href="index.html"><img src="StatMintLogo.png" alt="StatMint Logo" /></a>
    <nav>
      <a href="index.html">Home</a>
      <a href="top-stats-landing.html">Top Stats</a>
      <a href="finance.html">Finance</a>
      <a href="technology.html">Technology</a>
      <a href="healthcare.html">Healthcare</a>
      <a href="odds.html">Odds</a>
    </nav>
  </header>

  <main>
    <section class="hero">
      <div class="container">
        <h1>Finance Statistics</h1>
        <p class="lead">Explore real-time indicators shaping the economy ‚Äî from inflation and markets to monetary policy and crypto.</p>
      </div>
      <div class="container mt-5">
        <div class="row highlight-row text-center">
          <div class="col-md-3">
            <div class="highlight-card">
              <h3 class="text-primary">$105T</h3>
              <p class="mb-0">Global GDP (2023)</p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="highlight-card">
              <h3 class="text-danger" id="inflation">‚Äì</h3>
              <p class="mb-0">US Inflation Rate</p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="highlight-card">
              <h3 class="text-success" id="cryptoCap">‚Äì</h3>
              <p class="mb-0">Crypto Market Cap</p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="highlight-card">
              <h3 class="text-warning" id="rate">‚Äì</h3>
              <p class="mb-0">US Interest Rate</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="content-section">
      <h2>Global Inflation Trend</h2>
      <p>Inflation rose sharply after 2020, driven by supply chain constraints and stimulus policy. Here's the recent trend:</p>
      <canvas id="inflationChart" height="200"></canvas>
      <p class="img-caption">Chart: StatMint using FRED & IMF data</p>
    </section>

    <div class="back-link">
      <a href="top-stats-landing.html">‚Üê Back to Top Stats</a>
    </div>
  </main>

  <script>
    // ‚úÖ Replace this with your actual FRED API key
    const FRED_API_KEY = '28d9ae693994afbed946fb0911074f68';

    // üîπ CoinGecko ‚Äì Crypto Market Cap (No API key needed)
    fetch("https://api.coingecko.com/api/v3/global")
      .then(res => res.json())
      .then(data => {
        const cap = data.data.total_market_cap.usd;
        document.getElementById('cryptoCap').textContent = `$${(cap / 1e12).toFixed(2)}T`;
      })
      .catch(err => {
        document.getElementById('cryptoCap').textContent = 'Error';
        console.error('Crypto error:', err);
      });

    // üîπ FRED ‚Äì US Fed Funds Rate
    fetch(`https://api.stlouisfed.org/fred/series/observations?series_id=FEDFUNDS&api_key=${FRED_API_KEY}&file_type=json`)
      .then(res => res.json())
      .then(data => {
        const latest = data.observations.filter(d => d.value !== '.').pop();
        document.getElementById('rate').textContent = `${latest.value}%`;
      })
      .catch(err => {
        document.getElementById('rate').textContent = 'Error';
        console.error('Interest rate error:', err);
      });

    // üîπ FRED ‚Äì US Inflation (CPI)
    fetch(`https://api.stlouisfed.org/fred/series/observations?series_id=CPIAUCSL&api_key=${FRED_API_KEY}&file_type=json`)
      .then(res => res.json())
      .then(data => {
        const latest = data.observations.filter(d => d.value !== '.').pop();
        document.getElementById('inflation').textContent = `${parseFloat(latest.value).toFixed(1)}%`;
      })
      .catch(err => {
        document.getElementById('inflation').textContent = 'Error';
        console.error('Inflation error:', err);
      });

    // üìà Chart.js static inflation chart
    new Chart(document.getElementById('inflationChart'), {
      type: 'line',
      data: {
        labels: ['2019', '2020', '2021', '2022', '2023'],
        datasets: [{
          label: 'Global Inflation (%)',
          data: [3.2, 3.5, 4.7, 8.8, 6.4],
          borderColor: '#1d72f3',
          backgroundColor: 'rgba(29,114,243,0.1)',
          fill: true,
          tension: 0.3
        }]
      },
      options: {
        responsive: true,
        plugins: { legend: { display: false } },
        scales: {
          y: { beginAtZero: true, ticks: { stepSize: 2 } }
        }
      }
    });
  </script>
</body>
</html>
